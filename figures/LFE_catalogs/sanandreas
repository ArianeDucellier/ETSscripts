#!/bin/csh -f

set output = sanandreas.eps

# Small map
set x1 = -122
set x2 = -118.5
set y1 = 35
set y2 = 37
set Rop = $x1/$x2/$y1/$y2
set Jop = m-120.25/36/5.0

# Coastline
gmt pscoast -R$Rop -J$Jop -Ba0.5f0.25:a0.25f0.125:WESN -W0.1p -G255/255/224 -S224/255/255 -Df -Na -X5 -Y5 -P -K >! $output

# Location of LFE families
cat << END >> locations.dat
-120.200 35.625
-120.240 35.680
-120.655 36.080
-120.640 36.120
-120.675 36.135
-120.340 35.765
-120.320 35.745
-120.690 36.135
-120.105 35.675
-120.280 35.720
-120.615 36.085
-120.645 36.095
-120.645 36.120
-120.585 36.055
-120.345 35.820
-120.220 35.700
-120.720 36.175
-120.575 36.005
-120.330 35.795
-120.530 36.005
-120.770 36.220
-121.080 36.435
-120.635 36.120
-120.255 35.695
-120.255 35.690
-120.515 35.975
-120.220 35.685
-121.065 36.445
-120.835 36.280
-120.325 35.790
-120.565 36.020
-120.280 35.700
-120.830 36.290
-120.550 36.020
-120.190 35.630
-120.075 35.530
-120.320 35.755
-120.720 36.210
-120.340 35.790
-120.745 36.200
-120.550 36.005
-120.515 35.980
-120.515 35.980
-120.140 35.640
-120.010 35.440
-120.325 35.780
-120.320 35.785
-120.175 35.665
-120.110 35.575
-120.670 36.140
-120.640 36.120
-120.175 35.610
-120.150 35.635
-120.115 35.505
-120.805 36.258
-120.295 35.730
-120.395 35.877
-120.110 35.540
-120.525 35.980
-120.335 35.785
-120.625 36.085
-120.735 36.180
-120.265 35.710
-120.245 35.670
-120.390 35.875
-120.725 36.175
-120.235 35.665
-120.790 36.230
-120.925 36.320
-120.315 35.735
-120.362 35.852
-120.185 35.620
-120.335 35.740
-120.325 35.745
-120.150 35.625
-120.205 35.635
-120.215 35.660
-120.265 35.675
-120.665 36.140
-120.360 35.852
-120.545 36.010
-120.427 35.845
-120.595 36.065
-120.650 36.100
-120.235 35.660
-120.630 36.120
-120.220 35.640
-120.540 35.995
END

gmt psxy locations.dat -R$Rop -J$Jop -Sc0.2 -Gred -O -K >> $output

# Legend: behavior
cat << END >> arrows.dat
-120.377 35.895 0.500 0.866 0.0 0.0 1.0
-120.465 36.030 0.707 0.707 0.0 0.0 1.0
-120.055 35.725 0.707 0.707 0.0 0.0 1.0
-120.125 35.615 0.707 -0.707 0.0 0.0 1.0
END

gmt psvelo arrows.dat -R$Rop -J$Jop -W1p,black -Se1.5/0.8/1.0 -A+ba+gblack -O -K >> $output

cat << END >> times.dat
-119.465 36.230 episodic to semi-continuous
-119.205 35.975 bimodal 3 and 6 days
-119.275 35.415 bimodal 2 and 4 days
END

gmt pstext times.dat -R$Rop -J$Jop -F+f12p,black -O -K >> $output

# Large map
set x1 = -127
set x2 = -113
set y1 = 32
set y2 = 42
set Rop = $x1/$x2/$y1/$y2
set Jop = m-120.25/35/0.5

gmt pscoast -R$Rop -J$Jop -Ba5f2.5:a2.5f1.25:WESN -W0.1p -S224/255/255 -G255/255/224 -Dl -Na -X-3 -Y-1 -O -K >> $output

# Location of small map
cat << END >> zoom.dat
-122 35
-122 37
-118.5 37
-118.5 35
-122 35
END

gmt psxy zoom.dat -R$Rop -J$Jop -Wthicker,black -O -K >> $output

cat << END >> names.dat
-124.5 36 Parkfield
END

gmt pstext names.dat -R$Rop -J$Jop -F+f12p,black -O >> $output

rm *.dat
